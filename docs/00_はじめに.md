# はじめに

<!-- Block: Role -->
## このドキュメントの役割

この `docs/00_はじめに.md` は、設計ドキュメント群の入口です。  
アプリ概要・起動方法は `README.md` に集約し、本ファイルは「設計意図」と「読む順番」に限定します。

<!-- Block: Purpose -->
## 設計ゴール（この設計で実現したいこと）

- **記憶品質を最優先**にする（人間に近い「思い出し方」と「育ち方」）
- 忘れない（削除は基本しない）が、**新しさは検索順位に効かせる**
- 体感速度のため **SSE を継続**する（ストリーム開始までに「必要な記憶」を確定する）
- 検索（思い出す）は **計画はルールで固定**しつつ、**最終選別はLLMで品質最優先**（2段、必要なら多段）

<!-- Block: Human Likeness -->
## この設計が目指す「人間っぽさ」

人間の記憶っぽさには、少なくとも次の2種類がある:

- **無意識の連想**: 最近の出来事が優先されやすい（会話の流れで芋づるに思い出す）
- **目的検索**: 「学校で…」「あの時期…」のように、最近に偏らず全期間から探せる

この両立のために、記憶を「ログ」と「状態」に分け、検索はLLMが計画・選別する。

<!-- Block: Principles -->
## 大原則

- すべての会話は **追記ログ**として残す（忘れない）
- ただし実用上は、ログをそのまま全部読むのではなく、**状態が育つ**（要約/事実/関係/タスク）
- 「新しさ」は **検索順位**に効かせる（最新優先の連想）
- 「特定の記憶を探す」場合は、**全期間を同レベルに扱える**よう分散/時間理解を入れる

<!-- Block: Assumptions -->
## 前提

- 単一ユーザー運用
- プライバシー/安全性は本設計のスコープ外（将来拡張を妨げない程度の欄は置いてもよい）

<!-- Block: Reading Order -->
## 読む順番（おすすめ）

1. `docs/00_はじめに.md`
2. `docs/01_全体像.md`
3. `docs/10_実行フロー.md`（同期/非同期のつながり + 観測ポイント）
4. `docs/14_システムフロー図（プロンプトと感情）.md`（図でざっくり把握）
5. `docs/02_記憶モデル.md`（記憶 + 感情 + 時間モデル）
6. `docs/03_自発行動アーキテクチャ方針.md`（自発行動の基本方針と責務分割）
7. `docs/18_自発行動アーキテクチャ詳細設計.md`（`docs/03` の実装契約とデータ/ジョブ/API詳細）
8. `docs/19_汎用エージェント委譲設計.md`（自発行動から別プロセス `agent_runner` への汎用委譲設計）
9. `docs/20_人格中心化（会話と自発行動）実装設計.md`（会話/自発行動/汎用委譲の人格中心化、`autonomy.message` の人格発話化）
10. `docs/04_検索（思い出す）.md`
11. `docs/05_記憶更新（育てる）.md`（WritePlan + 記憶整理）
12. `docs/06_ストレージ（SQLite）.md`
13. `docs/07_API.md`
14. `docs/12_画像付きチャット.md`
15. `docs/13_WebブラウザUI.md`（Web UI 概要 + 実装メモ）
16. `docs/15_長期会話評価計画.md`（5日おき3ヶ月評価の実行計画）
17. `docs/16_長期会話シナリオ台帳.md`（19セッションの台本概要と期待値）
